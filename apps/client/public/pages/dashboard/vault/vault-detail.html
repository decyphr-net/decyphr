<div class="py-10" x-data="vaultDetail()" x-init="$nextTick(() => init())">
  <div class="container mx-auto px-4 space-y-8">

    <h2 class="text-2xl font-bold text-gray-800">Your Translation</h2>

    <p class="text-gray-600">
      Work through your saved text. Hover or click words for translations.
    </p>

    <div id="vault-text" class="bg-white p-6 rounded-lg shadow border text-lg leading-relaxed">
      Loadingâ€¦
    </div>

  </div>
</div>

<script>
function vaultDetail() {
  return {
    text: '',

    async init() {
      const vaultId = window.location.pathname.split('/').pop();

      try {
        const res = await fetch(`/vault/${vaultId}`);
        if (!res.ok) throw new Error('Failed to fetch vault entry');

        const data = await res.json();
        this.text = data.text || 'No text found';
        document.getElementById('vault-text').innerText = this.text;
      } catch (err) {
        console.error(err);
        document.getElementById('vault-text').innerText = 'Error loading text.';
      }
    }
  }
}
</script>
